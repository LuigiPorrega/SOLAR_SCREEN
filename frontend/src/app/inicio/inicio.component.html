<section class="hero">
  <div class="hero-content">
    <h1 class="title">Descubre las Fundas Inteligentes</h1>
    <p class="subtitle">Adaptadas al clima. DiseÃ±adas para ti.</p>
    <a class="cta-button" routerLink="/simulaciones/simulacion">Simular Condiciones</a>
  </div>
  <div class="hero-image">
    <img src="/images/inicio.jpg" alt="Funda Inteligente" />
  </div>
</section>

<section class="features">
  <div class="card" routerLink="/clima">
    <fa-icon [icon]="faSun" class="feature-icon"></fa-icon>
    <h2>Condiciones ClimÃ¡ticas</h2>
    <p>ObtÃ©n datos meteorolÃ³gicos en tiempo real para tus simulaciones.</p>
  </div>
  <div class="card" routerLink="/funda-list">
    <fa-icon [icon]="faShield" class="feature-icon"></fa-icon>
    <h2>Modelos de Fundas</h2>
    <p>Explora fundas inteligentes y sus capacidades de carga.</p>
  </div>
  <div class="card" routerLink="/idea-list">
    <fa-icon [icon]="faIdea" class="feature-icon"></fa-icon>
    <h2>Ideas y Propuestas</h2>
    <p>Descubre innovaciones y comparte tus ideas para fundas solares.</p>
  </div>
</section>

<section class="recent-simulations mt-5">
  <h2 class="text-center text-gradient">ðŸ”‹ Simulaciones Recientes</h2>
  <div class="row mt-4 justify-content-center">
    <p *ngIf="ultimasSimulaciones?.length === 0">No hay simulaciones recientes.</p>

    <div class="col-md-4" *ngFor="let sim of ultimasSimulaciones">
      <div class="sim-card glass p-4 shadow mb-4 text-center">
        <div class="progress-circle">
          <svg width="100" height="100">
            <circle cx="50" cy="50" r="45" stroke="#ccc" stroke-width="10" fill="none" />
            <circle
              cx="50"
              cy="50"
              r="45"
              [attr.stroke]="sim.color === 'success' ? '#28a745' : sim.color === 'warning' ? '#ffc107' : '#dc3545'"
              stroke-width="10"
              fill="none"
              stroke-dasharray="282"
              [attr.stroke-dashoffset]="282 - (sim.porcentajeCarga * 282 / 100)"
              stroke-linecap="round"
              transform="rotate(-90 50 50)"
            />
          </svg>
          <div class="progress-label">{{ sim.porcentajeCarga }}%</div>
        </div>
        <div class="mt-3">
          <p class="fw-semibold mb-1">
            <fa-icon [icon]="sim.CondicionLuz?.includes('solar') ? faSun : faLightbulb" class="me-2"></fa-icon>
            <span *ngIf="sim.CondicionLuz">{{ sim.CondicionLuz }}</span>
          </p>
          <p class="text-muted mb-1">
            <fa-icon [icon]="faCalendarAlt" class="me-2"></fa-icon>
            SimulaciÃ³n realizada el <strong>{{ sim.Fecha | date: 'mediumDate' }}</strong>
          </p>
          <p class="text-info mb-1">âš¡ Tiempo estimado: <strong>{{ sim.Tiempo }}h</strong></p>
          <p class="text-success">ðŸ”‹ Carga alcanzada: <strong>{{ sim.porcentajeCarga }}%</strong></p>
        </div>
      </div>
    </div>
    <div class="view-all-button">
      <a routerLink="/simulaciones/list">Ver todas las simulaciones</a>
    </div>
  </div>
</section>
